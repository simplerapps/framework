/* Simpler Apps (SA) Framework v1.0.5 20-06-2016 */
SA.BtnCircle=function(){this.stateful=!1;var a=new SA.Button,b=void 0;this.css={items:[{name:"@media (min-width: 481px)",items:[{name:".round",value:"display:block;width:15px;height:15px;border: 1px solid #f5f5f5;border-radius: 50%;box-shadow: 0 0 1px gray;float:left;"},{name:".round:hover",value:"background: #F0F0F0;"},{name:".selected",value:"background: #F0F0F0;"}]},{name:"@media (max-width: 480px)",items:[{name:".round",value:"display:block;width:10px;height:10px;border: 1px solid #f5f5f5;border-radius: 50%;background: #ffffff;box-shadow: 0 0 1px gray;float:left;"},{name:".round:hover",value:"background: #262626;"},{name:".selected",value:"background: #F0F0F0;"}]}]},this.createUI=function(a){var c=a.label;c||(c="none"),b=this.compId,a.name&&(b=a.name);var d=SA.localCss(this,"round"),e=SA.localCss(this,"round:hover"),f='<a id="'+b+'" href="#" class=" btnCircle '+d+" "+e+'"></a>';return f},this.getName=function(){return a.getName()},this.setActionListener=function(b){a.setActionListener(b)},this.select=function(a,b){var c=SA.localCss(this,"selected"),d=$("#"+b),e=d.hasClass(c);a?e||d.addClass(c):e&&d.removeClass(c)},this.triggerEvent=function(b){a.triggerEvent(b)},this.postLoad=function(){a.postLoad()}},SA.Button=function(){this.stateful=!1,this.actionListener=void 0,this.selected=!1;var a=void 0,b=void 0,c=void 0;this.css={},this.createUI=function(d){lastTimeStamp=0,a=d;var e=SA.getConfigValue(d,"type","button"),f="link"==e,g="block"==e,h=SA.getConfigValue(d,"listener","na");h&&"na"!=h&&(b=h);var i=SA.getConfigValue(d,"theme","color"),j="blank"==i?"btn-default":"btn-warning",k=d.label;k||(k="No Label");var l="";d.info&&(l='title="'+d.info+'"');var m="";d.style&&(m=d.style),c=this.compId,d.name&&(c=d.name);var n=d.ilist?"#!/"+d.ilist:"#";1==SA.getConfig(d,"hidden")&&(m+=";display:none");var o="";if(f)m=""==m?"float:left;padding:8px;":m,o='<div style=""'+l+'><a id="'+c+'" href="#" style="'+m+'">'+k+"</a></div>";else if(g)m=""==m?"color:#E0E0E0;":m,o='<li id="'+c+'"><a style="'+m+'" href="'+n+'">'+k+"</a></li>";else{m=""==m?"margin-right:8px;":m;var p=c+"-span";o='<a href="'+n+'" role="button" id="'+c+'" '+l+' style="'+m+'" class="btn '+j+'"><span id="'+p+'" class=""></span> '+k+"</a>"}return o},this.setWaiting=function(a){a?$("#"+c+"-span").addClass("glyphicon glyphicon-refresh glyphicon-refresh-animate"):$("#"+c+"-span").removeClass("glyphicon glyphicon-refresh glyphicon-refresh-animate")},this.getName=function(){return this.atomObj.name},this.setActionListener=function(a){b=a},this.showSelected=function(a){this.selected=a;var b=this.id;a?$("#"+b).addClass("active"):$("#"+b).removeClass("active")},this.triggerEvent=function(a){var b=this.id,c=$("#"+b);c&&c.trigger(a)},this.postLoad=function(){function c(a){var b;return b=0==a.timeStamp||0==f?!0:a.timeStamp!=f||f>a.timeStamp,f=a.timeStamp,b}{var d=this.id,e=(this.compId,this),f=0;$("#"+d)}$("body").on("click","#"+d,function(f){if(f.preventDefault(),c(f)){if(a.tlist&&0==a.tlist.indexOf("#compId:"))return void SA.events.fireEvent(a.tlist.substring(8),"click");var g=d;if(b&&b.performAction(g,a,e),a.tlist){var h=SA.comps.getList(a.ilist),i=SA.comps.getList(a.tlist),j="";if(i.lc){h&&(i.items||(i.items=new Array),i.items.push(h));var j=SA.listCreateUI(g,i);j&&tdiv.html(j)}else j=SA.listCreateUI(this.compId,h),j&&$("#"+i.name).html(j)}}})}},SA.CodeFormatter=function(){this.stateful=!1,this.css={items:[{name:"@media (min-width: 481px)",items:[{name:".srcFmt",value:"font-size:85%;"}]},{name:"@media (max-width: 480px)",items:[{name:".srcFmt",value:"font-size:65%;"}]}]},this.createUI=function(a){var b="",c=SA.localCss(this,"srcFmt"),d=SA.getConfigValue(a,"fileURI");if(d){var e=this.loadFile(d);return b+='<pre class="'+c+' prettyprint languague-css">',b+=e,b+="</pre>"}},this.loadFile=function(a){var b="";return $.ajax({url:a,type:"GET",dataType:"text",async:!1,success:function(a){b=a},error:function(a,b,c){alert(c)}}),b}},SA.EnumField=function(){function a(a){return a+"-"+d}function b(a){for(i=0;i<e.length;i++)if(e[i]!=a){var b=$("#"+e[i]);b.hasClass("active")&&b.removeClass("active")}}this.stateful=!0,this.actionListener=void 0,this.atomObj=void 0;var c="",d=void 0,e=new Array,f=void 0;this.css={items:[]},this.createUI=function(b){this.atomObj=b,d=this.compId;var g="",h=(SA.getConfigValue(b,"type","text"),"");b.info&&(g='placeholder="'+b.info+'"'),b.label&&(h='<label class="col-md-3 control-label" for="email">'+b.label+"</label>");var j=b.values;j&&0!=j.length||alert("Invalid State: expected 'values' array with name value objects"),c=b.value,c||(c=""),f=a("clkgrp");var k='<div id="'+d+'" class="form-group" ><div class="col-md-12"><div class="btn-group">';for(i=0;i<j.length;i++){var l=j[i],m=l.name==c||l.value==c?"active":"";m+=" "+f;var n=a(l.name);e.push(n),k+='<button type="button" class="btn btn-default '+m+'" id="'+n+'">'+l.value+"</button>"}return k+="</div></div></div>"},this.getValue=function(){return c},this.getName=function(){return this.atomObj.name},this.postLoad=function(){$("."+f).click(function(){c=$(this).attr("id"),$(this).addClass("active"),b(c)})}},SA.FileLoader=function(){function a(a,b){$.ajax({url:filePathUrl,type:"GET",dataType:"text",success:function(a){b.handleData(a)},error:function(a,b,c){alert(c)}})}this.createUI=function(b){var c=SA.getConfigValue(b,"fileURI");c&&a(fileURL,function(){})}},SA.Image=function(){this.createUI=function(a,b){var c=b.imageUrl;if(c){var d="",e="img-responsive",f=SA.createHtmlBegin(a);return f+'<img src="'+c+'"'+d+'class="'+e+'"/></div>'}}},SA.LoginComp=function(){function a(){var a=SA.getUserAuth();return a&&"OK"==a.status?!0:!1}var b="Sign In";this.createUI=function(c){var d=SA.getConfigValue(c,"label",b);return a()?"Sign out":d}},SA.Message=function(){this.css={items:[{name:".errmsg",value:"padding:0px;font-weight:normal;color:#FF9900;font-size:120%;"},{name:".okmsg",value:"padding:0px;font-weight:normal;color:#00CC00;font-size:120%;"}]};var a=void 0,b=void 0,c=void 0;this.createUI=function(d){return c=d.name,a=SA.localCss(this,"errmsg"),b=SA.localCss(this,"okmsg"),'<div class="'+a+'" id="'+c+'" ></div>'},this.showMessage=function(d,e){var f=$("#"+c);e?($(f).removeClass(a),$(f).addClass(b),$(f).html(d)):($(f).removeClass(b),$(f).addClass(a),$(f).html(d))}},SA.SandBox=function(){function a(a,b){var c=a.contentWindow.document.createElement("script");return c.type="text/javascript",c.innerHTML=b,c}var b,c,d;this.createUI=function(a){b=this.compId,c=a.name,d=SA.getConfig(a,"content");var e=SA.getConfig(a,"indexUrl"),f='<iframe style="width:100%; height:100%; border:0px;" src="'+e+'" id="'+b+'"></iframe>';return f},this.postLoad=function(){$("#"+b).load(function(){var c=document.getElementById(b),e=a(c,d);c.contentWindow.document.body.appendChild(e)})}},SA.TextArea=function(){this.stateful=!0,this.actionListener=void 0,this.atomObj=void 0;var a="";this.css={},this.createUI=function(b){this.atomObj=b;var c=this.compId,d=SA.getConfigValue(b,"rows",3),e=(SA.getConfigValue(b,"cols",-1),"");if(b.info){var f="";e=' placeholder="'+b.info+f+'"'}var g="";b.label&&(g='<label class="col-md-3 control-label" for="email">'+b.label+"</label>"),a=b.value;var h="";a&&""!=a?h=a:a="";var i='<div class="form-group" >'+g+'<div class="col-md-12"><textarea style="font-size:110%;" class="form-control" rows="'+d+'" id="'+c+'" '+e+" >"+a+"</textarea></div></div>";return i},this.getValue=function(){return a=$("#"+this.compId).val()},this.getName=function(){return this.atomObj.name}},SA.TextField=function(){this.stateful=!0,this.actionListener=void 0,this.atomObj=void 0;var a="";this.css={},this.createUI=function(b){this.atomObj=b;var c=this.compId,d="",e=SA.getConfigValue(b,"type","text"),f='type="'+e+'"',g="";if(b.info){var h="";d='placeholder="'+b.info+h+'"'}b.label&&(g='<label class="col-md-3 control-label" for="email">'+b.label+"</label>"),a=b.value;var i="";a&&""!=a&&(i='value="'+a+'" ');var j='<div class="form-group">'+g+'<div class="col-md-12"><input '+f+' style="font-size:110%;" class="form-control" id="'+c+'" '+i+d+" /></div></div>";return j},this.getValue=function(){return a=$("#"+this.compId).val()},this.getName=function(){return this.atomObj.name}},SA.UploadBrowser=function(){function a(){e=void 0,b(!0),c(void 0),$("#file-"+f).val("")}function b(a){$("#rem-photo-"+f).prop("disabled",a)}function c(a){a?$("#edit-card-prev").attr("src",a):$("#edit-card-prev").attr("src",g)}this.stateful=!0;var d=void 0,e=void 0,f=void 0,g="res/pics/your-picture.png";this.css={items:[{name:"@media (min-width: 481px)",items:[{name:".card",value:"margin-bottom:3px; border: 1px solid #dddddd;padding:0px;background-color:#f9f8f7"}]},{name:"@media (max-width: 480px)",items:[{name:".card",value:"margin-bottom:1px; border: 1px solid #dddddd;padding:0px;background-color:#f9f8f7"}]}]},this.createUI=function(a){f=this.compId,d=a;var b="",c="";d.info&&(b='placeholder="'+d.info+'"'),d.label&&(c='<label class="col-md-3 control-label" for="email">'+d.label+"</label>"),d.value&&d.value.length>0?(g=d.value,d.value=void 0,imgFle=void 0):g="res/pics/your-picture.png";var e={name:"set-photo-"+f,ac:"SA.Button",style:"font-size:90%;margin-right:5px;",label:"Set photo",config:{theme:"blank"}},h={name:"rem-photo-"+f,cmd:f,ac:"SA.Button",style:"font-size:90%;",label:"Remove",config:{theme:"blank"}},i=SA.listCreateUI(f,e,null,!0);i=SA.injectClass(i,"needsclick");var j=SA.listCreateUI(f,h,null,!0),k=SA.localCss(this,"card"),l='<div id="'+f+'" class="form-group">'+c+'<div class="col-md-12"><div class="'+k+'"><img id="edit-card-prev" class="img-responsive" src="'+g+'"></div><div>'+i+'<input type="file" id="file-'+f+'" style="display:none" />'+j+"</div></div></div>";return l},this.getValue=function(){return e},this.getName=function(){return d.name},this.postLoad=function(){var d=$("#set-photo-"+f),g=$("#rem-photo-"+f),h=$("#file-"+f);b(!0),d.click(function(){h.trigger("click")}),g.click(function(){a()}),h.change(function(a){return a.preventDefault(),e=this.files[0],reader=new FileReader,reader.onload=function(a){c(a.target.result)},reader.readAsDataURL(e),b(!1),!1})}},SA.UploadPhone=function(){this.stateful=!0;var a=void 0,b=void 0,c=void 0;this.css={items:[{name:"@media (min-width: 481px)",items:[{name:".card",value:"margin-bottom:3px; border: 1px solid #dddddd;padding:10px;background-color:#f9f8f7"}]},{name:"@media (max-width: 480px)",items:[{name:".card",value:"margin-bottom:1px; border: 1px solid #dddddd;padding:2px;background-color:#f9f8f7"}]}]},this.createUI=function(d){c=this.compId,a=d;var e="",f="";a.info&&(e='placeholder="'+a.info+'"'),a.label&&(f='<label class="col-md-3 control-label" for="email">'+a.label+"</label>");var g="";a.value&&(b=a.value,g='value="'+b+'"');var h={name:"set-photo-"+c,ac:"SA.Button",style:"font-size:90%;margin-right:5px;",label:"Set photo",config:{theme:"blank"}},i={name:"rem-photo-"+c,cmd:c,ac:"SA.Button",style:"font-size:90%;",label:"Remove",config:{theme:"blank"}},j=SA.listCreateUI(c,h,null,!0),k="";b&&(k=SA.listCreateUI(c,i,null,!0));var l=SA.localCss(this,"card"),m='<div id="'+c+'" class="form-group">'+f+'<div class="col-md-12"><div class="'+l+'"><img class="img-responsive" src="res/pics/your-picture.png"></a></div><div>'+j+k+"</div></div></div>";return m},this.getValue=function(){return b=$("#"+c).val()},this.getName=function(){return a.name},this.postLoad=function(){$("#set-photo-"+c).click(function(){console.log("click 1")})}},SA.Variable=function(){var a=void 0;this.createUI=function(b){return a=b,""},this.getName=function(){return a.name},this.getValue=function(){return a.value},this.setValue=function(b){a.value=b}},SA.BannerHandler=function(){function a(a){var b=SA.lookupComponent("banner-tabs");b.selectTab(a)}this.stateful=!0,this.css={},this.flow={name:"banner-tabs",lc:"SA.TabsHandler",items:[]};var b;this.createUI=function(a){var c=SA.getConfigValue(a,"imageUrl");if(c){var d=this.id,e='<div id="'+d+'" class="navbar navbar-default" style="background-color:#989898;border:0px;border-radius:0px;"><div class="container col-md-8 col-md-offset-2" ><div class="navbar-header"><button style="margin-top:20px" type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a id="brand-'+d+'" + class="navbar-brand" href="#" style="padding-top:14px;padding-left:10px;padding-bottom:0px"><img src="'+c+'" width="270" class="img-responsive" style="padding-right:30px;" /></a></div><div class="navbar-collapse collapse" >';b=a.items,this.flow.items=b;var f=SA.listCreateUI(this.compId,this.flow);return e+=f+"</div></div></div>",SA.setDispatchComponent(this),e}},this.handleEvent=function(c){if("navigate"==c.id){var d=c.compIdArray[0];if("HOME"==d)return void a(0);for(i=0;i<b.length;i++)b[i].ilist&&b[i].ilist==d&&(a(i),c.compIdArray.length>1&&SA.events.fireEvent(d,c))}},this.postLoad=function(){var b=this.id;$("#brand-"+b).click(function(){a(0)}),$(window).width()<700&&$(".navbar-nav li a").click(function(){$(".navbar-collapse").collapse("hide")})}},SA.Card=function(){function a(a,b,c){var d=SA.comps.getCompByIdOrName("items-dialog");return d?d.getItemsToolBar(a,b,c):void 0}this.stateful=!0,this.actionListener=void 0;var b=void 0,c=void 0,d=!1,e=void 0;this.css={items:[{name:"@media (min-width: 481px)",items:[{name:".card",value:"margin-bottom:40px; border: 1px solid #dddddd;padding:10px;background-color:#f9f8f7"},{name:".title",value:"font-size:160%;font-weight:bold;margin-top:4px;margin-bottom:8px;"},{name:".parag",value:"font-size:120%;margin-top:4px;margin-bottom:8px;"}]},{name:"@media (max-width: 480px)",items:[{name:".card",value:"margin-bottom:18px; border: 1px solid #dddddd;padding:5px;background-color:#f9f8f7"},{name:".title",value:"font-size:130%;font-weight:bold;margin-bottom:6px;"},{name:".parag",value:"font-size:100%;margin-top:4px;margin-bottom:6px;"}]}]},this.createUI=function(f,g){var h=SA.localCss(this,"card"),i=SA.localCss(this,"title"),j=SA.localCss(this,"parag"),k=SA.getConfigValue(f,"editMode",!0),l=f.style;e=f,b=this.compId,c=b+"-tb";var m="";if(g.dummy){d=!0;var n=a(b,e,!0);k&&(m+='<div id="'+b+'" class=""><div><div style="float:left;margin-bottom:30px;" id="'+c+'">'+n+"</div></div></div>")}else{var n=a(b,e,!1),o="";l&&(o=' style="'+l+'"'),m+='<div id="'+b+'"'+o+' class="'+h+'" >',k&&(m+='<div><div style="float:right;" id="'+c+'">'+n+"</div></div>"),g.ttitle&&(m+='<p class="'+i+'" >'+g.ttitle+"</p>"),g.stitle&&(m+='<p class="'+j+'" >'+g.stitle+"</p>"),g.imageUrl&&(m+='<img class="img-responsive" style="margin-bottom:8px" src="'+g.imageUrl+'"></a>'),g.info&&(m+="<p>"+g.info+"</p>"),g.lname&&g.link&&(m+='<p><a href="'+g.link+'" target="ttfaves-link">'+g.lname+"</a></p>"),m+="</div>"}return m},this.postLoad=function(){$("#"+c).show()}},SA.CardPanel=function(){this.stateful=!0,this.css={items:[{name:"@media (min-width: 481px)",items:[{name:".title",value:"font-size:250%"}]},{name:"@media (max-width: 480px)",items:[{name:".title",value:"font-size:180%"}]}]},this.createUI=function(a,b){this.compId;if(!a.items)return void 0;var c=a.items;a.items.length<10&&a.items.push({lc:"SA.Card",config:{dummy:!0,listId:b.id}});var d=SA.localCss(this,"title"),e=SA.getConfigValue(a,"title","No Title !!"),f=SA.getConfigValue(a,"desc"," "),g=SA.getConfigValue(a,"editMode",!0),h='<div class="container-fluid" style="padding:10px"><div class="row" ><div class="container col-md-8 col-md-offset-2" ><div class=""><p style="margin-top:0px" class="'+d+'" >'+e+'</p><p style="margin-bottom:20px">'+f+'</p></div></div></div><div class="row"><div class="container col-md-8 col-md-offset-2" ><div >',i=0;for(i=0;i<c.length;i++){var j=c[i];if(j.ac){var k=SA.getAtomComponent(j.name,j.ac),l=k.createUI(j,null);h+=l}else j.config.editMode=g,h+=SA.listCreateUI(j.compId,j,void 0,!0)}return h+="</div></div></div></div>"}},SA.Carousel=function(){this.stateful=!0,this.htmlTempl=void 0;var a=void 0,b=void 0,c=void 0,d=0;this.createUI=function(c){a=this.compId,c.name&&(a=c.name);var e='<div id="'+a+'" class="carousel slide" data-ride="carousel">';for(b="ci-"+a,e+='<div id="'+b+'" class="carousel-inner">',j=0;j<c.items.length;j++){var f=c.items[j],g=SA.listCreateUI(this.compId,f),h="page-"+f.config.id;e+=0==j?'<div id="'+h+'" class="item active">'+g+"</div>":'<div id="'+h+'" class="item">'+g+"</div>"}return e+="</div>",d=c.items.length,c.items.length>1,e+="</div>"},this.addPage=function(a,c){var e=0==d?" active":"",f='<div id="page-'+a+'" class="item'+e+'">'+c+"</html>";$("#"+b).append(f),d++},this.delPage=function(a){var b=$("#page-"+a);b.remove(),d--},this.resetPage=function(a,b){$("#page-"+a).html(b)},this.nextPage=function(){$("#"+a).carousel("next")},this.prevPage=function(){$("#"+a).carousel("prev")},this.showPage=function(b){(0>b||b>=d)&&(b=d-1),$("#"+a).carousel(b)},this.setListener=function(a){c=a},this.postLoad=function(){$("#"+a).carousel({interval:!1}),$("#"+a).on("slid.bs.carousel",function(a){var b=$(".active",a.target).index();c&&c.slideEvent&&c.slideEvent(b)})}},SA.CodeTester=function(){function a(a){$("#"+o).html(a)}function b(){var a=g(s),b='<div class="'+l+'" style="'+w+'">'+a+"</div>";return p=p.encodeHtml(),b}function c(){var a=p;a+='\n$(document).ready(function() {SA.loadComponent ( "demo-page", "HelloWorld" );}); ';var b="codeFrame-"+h,c={name:b,ac:"SA.SandBox",config:{content:a,indexUrl:r}},d=SA.getAtomComponent(c.name,c.ac),e=d.createUI(c,null),f='<div class="'+l+'" style="'+w+'">'+e+"</div>";return p=p.encodeHtml(),f}function d(){return SA.listCreateUI(i,x)}function e(){if(t){var a=$("#"+h);a.length>0&&(u=$("#"+h).val()),p=u}else p=j.getSession().getValue()}function f(){p||(p=g(q),p=p.encodeHtml());var a=h,b="",c=10;return v&&(c=14),b=t?'<textarea class="'+n+'" style=""  rows="'+c+'" id="'+a+'" >'+p+"</textarea>":'<div class="'+k+'" style="'+w+'" id="'+a+'" >'+p+"</div>"}function g(a){var b="";return $.ajax({url:a,type:"GET",dataType:"text",async:!1,success:function(a){b=a},error:function(a,b,c){alert(c)}}),b}var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;this.css={items:[{name:".code-frame",value:"border: 3px solid #F0F0F0;"},{name:".code-css",value:"width:95%; height:300px; margin:10px;font-size:80%;"},{name:".ncode-css",value:"width:95%; height:300px; margin:10px;overflow:scroll;"},{name:".code-plain",value:"width:95%; height:300px; margin:10px;overflow:scroll;font-size:90%;font-family:monospace;border:3px"}]};var x={lc:"SA.PillsGroup",config:{style:"pills",listener:this},items:[{ac:"SA.Button",cmd:"edit",style:"border:0px;border-radius:0px;margin-right:4px;",label:"HelloWorld",config:{theme:"blank"}},{ac:"SA.Button",cmd:"run",style:"border:0px;border-radius:0px;margin-right:4px;",label:"Output",config:{theme:"blank"}},{ac:"SA.Button",cmd:"info",style:"border:0px;border-radius:0px;margin-right:4px;",label:"Information",config:{theme:"blank"}}]};this.createUI=function(a){t=SA.utils.isMobileDevice(),h=this.id,i=this.compId,o="content-"+i,q=SA.getConfig(a,"comp1"),r=SA.getConfig(a,"index"),s=SA.getConfig(a,"info"),v=SA.getConfig(a,"height"),m=SA.localCss(this,"code-frame"),k=SA.localCss(this,"code-css"),l=SA.localCss(this,"ncode-css"),n=SA.localCss(this,"code-plain"),w="",v&&(w="height:"+v+"px;");var b=d()+'<div id="'+o+'" class="'+m+'" >'+f()+"</div>";return b},this.performAction=function(d,g){"edit"==g.cmd?a(f()):"run"==g.cmd?(e(),a(c())):"info"==g.cmd&&(e(),a(b()))},this.postLoad=function(){t||(j=ace.edit(h),j.setTheme("ace/theme/tomorrow"),j.getSession().setMode("ace/mode/javascript"),j.renderer.setShowGutter(!1),j.getSession().on("change",function(){}),prettyPrint())}},SA.Collapsible=function(){this.stateful=!1,this.flow={},this.createUI=function(a){if(!a.items||0==a.items.length)return"";var b="";for(b+='<div class="panel-group" id="accordion">',i=0;i<a.items.length;i++){var c=a.items[i],d=SA.listCreateUI(this.compId,c),e="coll-"+this.id+"-"+i;b+='<div class="panel panel-default">',b+='<div class="panel-heading">',b+='<h4 class="panel-title">',b+='<a data-toggle="collapse" data-parent="#accordion" href="#'+e+'">',b+=c.label,b+="</a>",b+="</h4>",b+="</div>",b+='<div id="'+e+'" class="panel-collapse collapse">',b+='<div class="panel-body">',b+=d,b+="</div>",b+="</div>",b+="</div>"}return b+="</div>"}},SA.Dialog=function(){function a(){if(!f){var a=e.items[0].name;f=SA.comps.getCompByIdOrName(a)}return f}this.stateful=!0,this.htmlTempl=void 0,this.css={items:[{name:"@media (min-width: 481px)",items:[{name:".dlg",value:"width:520px;position:absolute; top:5%;left:45%;margin-top:-30px;margin-left:-200px;padding:20px;"}]},{name:"@media (max-width: 480px)",items:[{name:".dlg",value:"width:345px;position:absolute; top:5%;left:49%;margin-top:-30px;margin-left:-170px;padding:20px;"}]}]};var b=void 0,c=void 0,d=void 0,e=void 0,f=void 0;this.createUI=function(a){var f=SA.getConfigValue(a,"pageStyle",!1),g=SA.utils.isMobileDevice();if(d=f&&g,b)return"";b=this.compId,c=b+"-page",e=a;var h=a.label;h||(h="No title provided in label field");var i="";a.items&&a.items.length>0&&(i=SA.listCreateUI(this.compId,a.items[0],{pageStyle:d}));var j=SA.localCss(this,"dlg"),k='<div class="modal fade" id="'+b+'" tabindex="-1" role="dialog" aria-labelledby="" aria-hidden="true"><div class="modal-dialog '+j+'" ><div id="'+c+'" class="modal-content"><div class="modal-body" style="height:100%;width:100%;" >'+i+"</div></div></div></div>";return $("#page").append("<div id='"+a.name+"'></div>"),void $("#"+a.name).html(k)},this.setWaiting=function(b){var c=a();c&&c.setWaiting(b)},this.showDialog=function(a,e,f){if(d){var g=SA.getCompByIdOrName(f);a?g.showNextPage(e,$("#"+c).html()):g.showPrevious()}else $("#"+b).modal(a?{show:a}:"hide")},this.updateForm=function(b){var c=a();c&&c.updateForm(b)},this.showElement=function(b,c){var d=a();d&&d.showElement(b,c)},this.postLoad=function(){}},SA.FeedbackForm=function(){this.model={items:[{name:"feedback",label:"Feedback",items:[{ac:"SA.Id",name:"id",label:"Id",vpat:"sys"},{ac:"SA.Name",name:"name",label:"Name",vpat:"req"},{ac:"SA.Email",name:"email",label:"Email",vpat:"req"},{ac:"SA.Comment",name:"comment",label:"Comment",vpat:"req"}]}]},this.flow={items:[{html:"div",items:[{html:"div",style:"padding-top:5px"},{name:"hqa.feedback",lc:"SA.FormHandler",config:{listener:this},items:[{name:"indexContent",ac:"SA.TextArea",config:{rows:6}},{name:"indexCmd",ac:"SA.Button",label:"Index Data",config:{style:"default"}}]}]}]},this.createUI=function(a,b){var c=SA.listCreateUI(this.compId,this.flow,b);return c+=SA.createHtmlEnd(this.flow)},this.notifySubmit=function(a){var b=a[0].indexContent,c="";try{c=JSON.parse(b)}catch(d){c=b}var e={};e.index=c,SA.server.sendString(JSON.stringify(e))}},SA.FormHandler=function(){function a(a){l=new Array;{var b=a.items;this.compId}h=SA.getConfigValue(a,"title","Form Title Goes Here");var c="";j||(c='<div class="panel-heading" style="border-bottom:0px;"><p class="'+f+'" >'+h+"</p></div>");var d='<div class="panel panel-default" style="margin-bottom:0px;border-width:0px;">'+c+'<div style="padding-top:10px" /><div class="row"><div class="col-md-12"><div><form class="form-horizontal" action="" method="post">',e=0;for(e=0;e<b.length;e++){var i=b[e];if(i.ac){var k=SA.getAtomComponent(i.name,i.ac);l.push(k),k.setActionListener&&k.setActionListener(g);var m=k.createUI(i,null);d+=m}else d+=SA.listCreateUI(i.compId,i,void 0,!0)}return d+="</form></div></div></div></div>"}this.stateful=!0;var b,c,d,e,f,g,h,j,k,l=new Array;this.css={items:[{name:"@media (min-width: 481px)",items:[{name:".header",value:"padding:0px;font-size:135%;margin:0 0 0 0;"},{name:".form",value:"width:90%;padding:15px;font-size:110%;"}]},{name:"@media (max-width: 480px)",items:[{name:".header",value:"padding:0px;font-size:130%;margin:0 0 0 0;"},{name:".form",value:"width:90%;padding-top:5px;padding-bottom:10px;font-size:85%;"}]}]},this.createUI=function(h){if(d=h,g=this,b=SA.getConfigValue(h,"listener"),h.items){c=this.compId,h.name&&(c=h.name),e=SA.localCss(this,"form"),f=SA.localCss(this,"header"),j=SA.getConfigValue(h,"pageStyle",!1);var i;return i=j?'<div id="'+c+'" class="container col-md-8 col-md-offset-2" >'+a(h)+"</div>":'<div id="'+c+'" class="container '+e+'" >'+a(h)+"</div>"}},this.updateForm=function(b){SA.utils.mergeList(d,b);var e=a(d);$("#"+c).html(e)},this.showElement=function(a,b){b?$("#"+a).show():$("#"+a).hide()},this.addFormListener=function(a){b=a},this.setWaiting=function(a){k&&k.setWaiting&&k.setWaiting(a),a?$("#"+c).find(":input").prop("disabled",!0):$("#"+c).find(":input").prop("disabled",!1)},this.performAction=function(a,c,e){if(b&&b.notifySubmit){k=e;var f=this.getFormData(l);b.notifySubmit(c,d.items,f)}},this.getFormData=function(a){var b={};for(i=0;i<a.length;i++){var c=a[i];if(c.getName&&c.getValue){var d=c.getName(),e=c.getValue();e&&""!=e&&(b[d]=e)}}return b},this.postLoad=function(){}},SA.HSlider=function(){this.stateful=!0;var a,b,c,d;this.css={items:[{name:"@media (min-width: 481px)",items:[{name:".my-gallery",value:"margin-left:0px;margin-right:0px;"}]},{name:"@media (max-width: 480px)",items:[{name:".my-gallery",value:"margin-left:0px;margin-right:0px;"}]}]},this.createUI=function(e){a=this.compId,b=SA.localCss(this,"my-gallery");var f='<div id="'+a+'" class="'+b+'">';if(c=0,e.items){for(j=0;j<e.items.length;j++){var g=e.items[j],h=SA.listCreateUI(this.compId,g);d="page-"+g.config.id,f+='<div id="'+d+'" >'+h+"</div>"}c=e.items.length}return f+="</div>"},this.addPage=function(a,d){var e='<div id="page-'+a+'" >'+d+"</html>",f=$("."+b);f.slick("slickAdd",e),f.slick("slickGoTo",c),c++},this.delPage=function(a){var b=$("#page-"+a);b.remove(),c--},this.resetPage=function(a,b){$("#page-"+a).html(b)},this.nextPage=function(){$("#"+a).carousel("next")},this.prevPage=function(){$("#"+a).carousel("prev")},this.showPage=function(a){(0>a||a>=c)&&(a=c-1)},this.setListener=function(a){listener=a},this.postLoad=function(){$("."+b).slick({infinite:!1,touchThreshold:5,arrows:!1,mobileFirst:!0,respondTo:"min"});var a=-1;$("."+b).on("afterChange",function(b,c){var d=c.currentSlide;listener&&listener.slideEvent&&d!=a&&(listener.slideEvent(d),a=d)})}},SA.PillsGroup=function(){this.stateful=!0,this.buttonIds=new Array,this.currentTab=0;var a;this.createUI=function(b){var c=b.items;if(c){var d=this.compId,e=SA.getConfigValue(b,"listener","na");e&&"na"!=e&&(a=e);var f=SA.getConfigValue(b,"style",void 0),g='<ul id="'+d+'" class="nav navbar-nav">';"pills"==f&&(g='<ul id="'+d+'" class="nav nav-pills">');var h=0;for(h=0;h<c.length;h++){var i=c[h];if(!i.ac)return void alert("Invalid State: TabsHandler should have action children, for name: "+i.name);var j=SA.getAtomComponent(i.name,i.ac),k=j.createUI(i,null);j.setActionListener&&j.setActionListener(this),g+=k,this.buttonIds[h]=j.id}return g+="</ul>",SA.events.fireEvent(this.buttonIds[0],"click"),g}},this.selectTab=function(a){id=this.buttonIds[a],id&&SA.events.fireEvent(this.buttonIds[a],"click")},this.performAction=function(b,c){for(var d=0;d<this.buttonIds.length;d++){var e=this.buttonIds[d];if(e!=b){var f=SA.comps.getCompByIdOrName(e);f.showSelected(!1)}}if(f=SA.comps.getCompByIdOrName(b),f.showSelected(!0),c.ilist&&c.tlist){var g=SA.getList(c.ilist),h=SA.getList(c.tlist),i=SA.listCreateUI(this.compId,g),j=$("#"+h.name);j.html(i)}a&&a.performAction&&a.performAction(b,c)};this.postLoad=function(){}},SA.SearchComp=function(){this.atomObj=void 0,this.actionListener=void 0,this.selected=!1,this.listenerComp=void 0,this.fieldValue="",this.searchHtml="",this.css={},this.createUI=function(a){this.atomObj=a;var b=this.compId,c="";""!=this.fieldValue&&(c='value="'+this.fieldValue+'"');var d='<div class="col-md-10" style="padding-left:0px;"><div class="form-group" style="margin-bottom: 0px;" ><input id="'+b+'"'+c+' type="text" class="form-control" placeholder="search for something"></div><div id="rearch-results" >'+this.searchHtml+"</div></div>";return d},this.setActionListener=function(a){this.listenerComp=a},this.showSelected=function(a){this.selected=a;var b=this.compId;a?$("#"+b).addClass("active"):$("#"+b).removeClass("active")},this.expressionChanged=function(a){this.fieldValue=a,SA.server.sendString("{'exp':'"+a+"'}"),0==a.length&&(this.searchHtml="",$("#rearch-results").html(""))},this.onMessage=function(a){if(a.exp_response)this.formatResults(a.exp_response),$(".s-suggest").click(function(b){var c=b.target.id.substring(2),d=a.exp_response.cats[c];SA.server.sendString("{'suggest':'"+d.catsHash+"'}")}),$(".s-result").click(function(b){var c=b.target.id.substring(2),d=a.exp_response.results[c];d&&d.accessUrl&&window.open(d.accessUrl,"_blank")});else if(a.suggest_response&&1==a.suggest_response.results.length){var b=a.suggest_response.results[0].accessUrl;b&&window.open(b,"_blank")}},this.formatResults=function(a){this.searchResults=a;var b="",c="",d=5,e=0;if(a.cats&&a.cats.length>0){var f=a.cats;for(b='<div class="list-group">',i=0;i<f.length&&d>e;i++)b+='<a href="#" style="color:#3399FF;border:1px solid #EFEFEF;" class="list-group-item s-suggest" id="s-'+i+'">'+f[i].detail+"</a>",e++;b+="</div>"}if(a.results&&a.results.length>0){var g=a.results;for(c='<div class="list-group">',i=0;i<g.length&&d>e;i++)c+='<a href="#" style="border:1px solid #EFEFEF;" class="list-group-item s-result" id="r-'+i+'">'+g[i].detail+"</a>",e++;c+="</div>"}b.length>0||c.length>0?(this.searchHtml='<div class="panel panel-default">'+b+c+"</div>",$("#rearch-results").html(this.searchHtml)):(this.searchHtm="",$("#rearch-results").html(""))},this.getName=function(){return this.atomObj.name},this.postLoad=function(){var a=this.compId;$("#"+a).on("keypress",function(a){a.which}),$("#"+a).on("keyup",function(b){var c=SA.comps.getCompById(a);c&&c.expressionChanged(this.value),8==b.which})}},SA.TabsHandler=function(){this.stateful=!0,this.buttonIds=new Array,this.currentTab=0,this.createUI=function(a){var b=a.items;if(b){var c=this.compId,d=SA.getConfigValue(a,"style",void 0),e='<ul id="'+c+'" class="nav navbar-nav">';"pills"==d&&(e='<ul id="'+c+'" class="nav nav-pills">');var f=0;for(f=0;f<b.length;f++){var g=b[f];if(!g.ac)return void alert("Invalid State: TabsHandler should have action children, for name: "+g.name);var h=SA.getAtomComponent(g.name,g.ac),i=h.createUI(g,null);h.setActionListener&&h.setActionListener(this),e+=i,this.buttonIds[f]=h.id}return e+="</ul>",SA.events.fireEvent(this.buttonIds[0],"click"),e}},this.selectTab=function(a){id=this.buttonIds[a],id&&SA.events.fireEvent(this.buttonIds[a],"click")},this.performAction=function(a,b){for(var c=0;c<this.buttonIds.length;c++){var d=this.buttonIds[c];if(d!=a){var e=SA.comps.getCompByIdOrName(d);e.showSelected(!1)}}e=SA.comps.getCompByIdOrName(a),e.showSelected(!0);var f=SA.getList(b.ilist),g=SA.getList(b.tlist),h=SA.listCreateUI(this.compId,f),i=$("#"+g.name);i.html(h)},this.postLoad=function(){}};